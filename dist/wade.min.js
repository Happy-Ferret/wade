/**
 * Wade v0.3.0
 * Copyright 2017 Kabir Shah
 * Released under the MIT License
 */
!function(e,n){"object"==typeof module&&module.exports?module.exports=n():e.Wade=n()}(this,function(){var e=["about","after","all","also","am","an","and","another","any","are","as","at","be","because","been","before","being","between","both","but","by","came","can","come","could","did","do","each","for","from","get","got","has","had","he","have","her","here","him","himself","his","how","if","in","into","is","it","like","make","many","me","might","more","most","much","must","my","never","now","of","on","only","or","other","our","out","over","said","same","see","should","since","some","still","such","take","than","that","the","their","them","then","there","these","they","this","those","through","to","too","under","up","very","was","way","we","well","were","what","where","which","while","who","with","would","you","your","a","i"],n=/\.|\,|\!/g,r=function(e,n){for(var r=n,t=0;t<e.length&&void 0!==(r=r[e[t]]);t++);return r},t=function(e,n,r,t){for(var o=null,i=0;i<e.length;i++){var a=e[i];void 0===(o=r[a])?(r[a]=n.length,n.push({index:a,score:t})):n[o].score+=t}},o=function(e,n,o,i,a){var h=r(e,n);void 0!==h&&void 0!==h.id&&t(h.id,o,i,a)},i=function(e,n,o,i,a){var h=r(e,n);if(void 0!==h)for(var u=[h],s=null,d=0;0!==u.length;){void 0!==(s=u[d]).id&&t(s.id,o,i,a),u.pop(),d--;for(var l in s)u.push(s[l]),d++}},a=function(e){var n=e.length-1;return" "===e[0]&&(e=e.substring(1))," "===e[n]&&(e=e.substring(0,n)),e.split(" ")},h=function(e){return e.toLowerCase()},u=function(e){return e.replace(n,"")},s=function(n){for(var r=a(n),t=0;t<r.length;t++)-1!==e.indexOf(r[t])&&r.splice(t,1);return r.join(" ")},d=function(e){var n=function(e){var r=n.index,t=d.process(e);if(!1===t)return[];for(var h=a(t),u=h.length,s=u-1,l=1/u,f=[],v={},c=0;c<s;c++)o(h[c],r,f,v,l);return i(h[s],r,f,v,l),f};if(Array.isArray(e)){for(var r=[],t=null,h=0;h<e.length;h++)!1!==(t=d.process(e[h]))&&r.push(t);n.index=d.index(r),n.data=r}else n.index=e.index,n.data=e.data;return n};return d.pipeline=[h,u,s],d.process=function(e){for(var n=d.pipeline,r=0;r<n.length;r++)e=n[r](e);return 0!==e.length&&e},d.index=function(e){for(var n={},r=0;r<e.length;r++)for(var t=a(e[r]),o=0;o<t.length;o++){for(var i=t[o],h=i.length-1,u=n,s=0;s<h;s++){var d=i[s],l=u[d];l=void 0===l?{}:l,u[d]=l,u=l}var f=i[h];void 0===u[f]?u[f]={id:[r]}:void 0===(u=u[f]).id?u.id=[r]:u.id.push(r)}return n},d.save=function(e){return{data:e.data,index:e.index}},d.version="0.3.0",d});